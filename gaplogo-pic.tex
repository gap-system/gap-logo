  % set coordinates of the four circles, starting at the one on the right
  \coordinate (A) at (  0:\radius) {};
  \coordinate (B) at (120:\radius) {};
  \coordinate (C) at (240:\radius) {};
  \coordinate (Z) at (0,0) {};

  \coordinate (AB1) at ( 50:\radius*1.2) {};
  \coordinate (AB2) at ( 70:\radius*1.2) {};
  \coordinate (BC1) at (170:\radius*1.2) {};
  \coordinate (BC2) at (190:\radius*1.2) {};
  \coordinate (CA1) at (290:\radius*1.2) {};
  \coordinate (CA2) at (310:\radius*1.2) {};


  % draw the edges connecting the four circles / nodes
  \draw[shorten >= 2mm, shorten <=2mm, dynkinedgeA] (Z) -- (A);
  \draw[shorten >= 2mm, shorten <=2mm, dynkinedgeB] (Z) -- (B);
  \draw[shorten >= 2mm, shorten <=2mm, dynkinedgeC] (Z) -- (C);

  % draw the nodes
  \path[dynkinnodeZ] (Z) circle[radius=\noderadius];
  \path[dynkinnodeA] (A) circle[radius=\noderadius];
  \path[dynkinnodeB] (B) circle[radius=\noderadius];
  \path[dynkinnodeC] (C) circle[radius=\noderadius];


  % draw the three double-ended arrows which indicate swapping of the circles
  % for this we use circle arcs but with slightly reduced radius
\draw[<->, dynkinarrowAB] ({0+\margin}:\radiusB)
  arc ({0+\margin}:{120-\margin}:\radiusB);

\draw[<->, dynkinarrowBC] ({120+\margin}:\radiusB)
  arc ({120+\margin}:{240-\margin}:\radiusB);

\draw[<->, dynkinarrowCA] ({240+\margin}:\radiusB)
  arc ({240+\margin}:{360-\margin}:\radiusB);


  % Invisible circle to make bounding box centered on (0, 0)
  \draw[draw=none, fill=none] let
    \p1 = ($(current bounding box.east)$), \n1 = {veclen(\x1,\y1)},
    \p2 = ($(current bounding box.west)$), \n2 = {veclen(\x2,\y2)},
    \p3 = ($(current bounding box.south)$), \n3 = {veclen(\x3,\y3)},
    \p4 = ($(current bounding box.north)$), \n4 = {veclen(\x4,\y4)},
    \n5={max(\n1, \n2, \n3, \n4)}
    in (0, 0) circle (\n5);


\ifx\NoTextMode\undefined
    % draw the GAP text
    \node[anchor=west] at (1.4, 0.8) {\gapstyle{\textcolor{Gcolor}{G}}\extrastyle{roups}};
    \node[anchor=west] at (1.4, 0  ) {\gapstyle{\textcolor{Acolor}{A}}\extrastyle{lgorithms}};
    \node[anchor=west] at (1.4,-0.8) {\gapstyle{\textcolor{Pcolor}{P}}\extrastyle{rogramming}};
\fi
